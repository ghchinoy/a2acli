# A2A CLI

A standalone command-line client for interacting with Agent-to-Agent (A2A) services. It is built using the [a2a-go](https://github.com/a2aproject/a2a-go) SDK and provides an interactive streaming terminal UI.

## Features

- **Agent Discovery**: Describe the capabilities and skills of an A2A agent using the `describe` command.
- **Streaming Invocations**: Send messages and instructions to an agent and see real-time streaming updates, tool uses, and status messages using the `invoke` command.
- **Task Resumption**: Re-attach and listen to an ongoing active task using the `resume` command.
- **Status Queries**: Retrieve the current status, metadata, and artifacts of a specific task using the `status` command.
- **Artifact Management**: Save produced artifacts and data parts directly to your local file system.

## Installation

Ensure you have [Go 1.25+](https://go.dev/) installed.

```bash
git clone https://github.com/a2aproject/a2acli.git
cd a2acli
make build
```

This will produce the `a2acli` binary in the `bin/` directory.

Alternatively, you can run it directly:

```bash
make run
```

## Usage

Use the `--help` flag on any command to see the available options.

```bash
./bin/a2acli --help
```

### Global Flags

- `-u, --service-url string`: Base URL of the A2A service (default "http://127.0.0.1:9001")
- `-t, --token string`: Authorization token (if required by the agent)
- `-k, --task string`: Existing Task ID to continue a conversation/task (must be non-terminal)
- `-r, --ref string`: Task ID to reference as context (works for completed tasks)

### Commands

#### Describe Agent
Inspect the agent's capabilities and registered skills:
```bash
./bin/a2acli describe --service-url http://localhost:9001
```

#### Invoke a Skill
Send a message to the agent. This opens an interactive TUI that streams the agent's responses and tool executions.

```bash
./bin/a2acli invoke "Please calculate the fibonacci of 10" --service-url http://localhost:9001
```

You can also pass supplemental instructions via a file:
```bash
./bin/a2acli invoke "Analyze this data" --instruction-file ./instructions.txt
```

To target a specific skill:
```bash
./bin/a2acli invoke "Use the calculator" --skill "calc_skill"
```

To save artifacts generated by the agent:
```bash
./bin/a2acli invoke "Generate a report" --out-dir ./output/
```

#### Resume a Task
If you disconnected from a long-running task, you can resume listening to its event stream:
```bash
./bin/a2acli resume <task_id> --service-url http://localhost:9001
```

#### Check Task Status
Retrieve the current state of a task without streaming:
```bash
./bin/a2acli status <task_id> --service-url http://localhost:9001
```

## Development

- `make build`: Compiles the binary to `bin/a2acli`.
- `make run`: Builds and runs the CLI.
- `make clean`: Removes the `bin/` directory.

## License

This project is licensed under the same terms as the `a2a-go` SDK.
